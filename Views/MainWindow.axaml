<Window xmlns="https://github.com/avaloniaui"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:vm="using:Bichitos.ViewModels"
        x:Class="Bichitos.Views.MainWindow"
        x:DataType="vm:MainWindowViewModel"
        Title="Bichitos"
        Width="800" Height="450"
        Icon="/Assets/avalonia-logo.ico">

    <Design.DataContext>
        <!-- This only sets the DataContext for the previewer in an IDE,
             to set the actual DataContext for runtime, set the DataContext property in code (look at App.axaml.cs) -->
        <vm:MainWindowViewModel/>
    </Design.DataContext>
    
    <UserControl>
    <UserControl.Styles>
      
        <Style Selector="UserControl">
          <Setter Property="Background">
            <Setter.Value>
              <LinearGradientBrush StartPoint="0,0" EndPoint="1,1">
                <GradientStop Color="Aqua"/>
                <GradientStop Color= "Crimson"/>
                <GradientStop Color="Chartreuse"/>
              </LinearGradientBrush>
            </Setter.Value>
          </Setter>
        </Style>

        <Style Selector="Button">
          <Setter Property="Background" Value="DeepPink"/>
          <Setter Property="Foreground" Value="AliceBlue"/>
          <Setter Property="CornerRadius" Value="12"/>
          <Setter Property="FontSize" Value="16"/>
          <Setter Property="Margin" Value="4"/>
        </Style>

        <Style Selector="TextBox, ComboBox, CalendarDatePicker, CheckBox">
          <Setter Property="Margin" Value="4"/>
          <Setter Property="FontSize" Value="14"/>
        </Style>
      </UserControl.Styles>

      <DockPanel Margin="16">
        <!-- Encabezado -->
        <TextBlock Text="ðŸ‘¾Creador de BichitosðŸ‘¾ "
                   FontSize="28"
                   FontWeight="Bold"
                   Foreground="#0080FF"
                   HorizontalAlignment="Center"
                   DockPanel.Dock="Top"
                   Margin="0,0,0,16"/>

        <!-- Formulario -->
        <StackPanel DockPanel.Dock="Top"
                    Orientation="Vertical"
                    Background="#80FFFFFF"
                    Spacing="8">
          
          <TextBox Watermark="Nombre del bichito" Text="{Binding Bichito.Nombre}" FontWeight="Bold" Foreground="white"/>


          <CalendarDatePicker SelectedDate="{Binding Bichito.Cumple}" FontWeight="Bold" Foreground="Black">
              <Interaction.Behaviors>
                  <EventTriggerBehavior> <!--cuando pasa el evento, se llama a un comando -->
                      <InvokeCommandAction Command="{Binding ComprobarCumpleCommand}">
                          <!--comando al q se llama-->
                      </InvokeCommandAction>
                  </EventTriggerBehavior>
              </Interaction.Behaviors>
          </CalendarDatePicker>

          <TextBlock Text="{Binding Bichito.Color}" FontWeight="Bold" Foreground="Black"/>
          <ComboBox Width="200" ItemsSource="{Binding Lista}" 
                    SelectedIndex="0" SelectedItem="{Binding Bichito.Color}"></ComboBox>


          <CheckBox Content="Opciones avanzadas" Name="ChkAvanzadas" Command="{Binding MostrarOpcionesAvanzadasCommand}"/>

          <StackPanel Name="OpcionesAvanzadasPanel" IsVisible="{Binding Avanzadas}">
            <TextBlock Text="Â¿Vivo?" FontWeight="Bold"/>
            <ComboBox ItemsSource="{Binding ListaEstado}"
                      SelectedIndex="0" SelectedItem="{Binding Bichito.Estado}"
                      >
            </ComboBox>
            <TextBlock Text="EvoluciÃ³n" FontWeight="Bold"/>
            <ComboBox ItemsSource="{Binding ListaEvoluciones}" SelectedIndex="0" 
                      SelectedItem="{Binding Bichito.evolucion}">
            </ComboBox>
          </StackPanel>
          <TextBlock Text="{Binding  Path=Mensaje}" Foreground="Crimson" Margin="10" HorizontalAlignment="Center"></TextBlock>
          <Button Content="âœ¨ Crear bichito âœ¨" Command="{Binding MostrarBichitoCommand}"
                  HorizontalAlignment="Center"
                  Width="160"/>
        </StackPanel>

        <StackPanel>
            <ComboBox ItemsSource="{Binding Bichitos}">
                
            </ComboBox>
            <ListBox ItemsSource="{Binding
            Bichitos}" SelectedItem="{Binding BichitoSeleccionado}">
                <Interaction.Behaviors>
                    <EventTriggerBehavior EventName="DoubleTapped">
                        <InvokeCommandAction Command="{Binding CargarBichitoSeleccionadoCommand}">
                                            
                        </InvokeCommandAction>
                    </EventTriggerBehavior>
                                   
                </Interaction.Behaviors>
                <ItemsControl.ItemsPanel>
                    <ItemsPanelTemplate>
                        <WrapPanel>
                            <!-- es lo q hace q los elementos se reorganicen en cualquier tipo de pantalla-->
                        </WrapPanel>
                    </ItemsPanelTemplate>
                </ItemsControl.ItemsPanel>
                <ItemsControl.ItemTemplate>
                    <DataTemplate>
                        <Border Margin="10" Padding="10" CornerRadius="10" 
                                 BorderThickness="2"
                                BoxShadow="5 5 5 5 DarkGray" >
                            <StackPanel>
                                
                                <Image Source="avares://Bichitos/Assets/59d7bd0d-bd2c-42db-b1ef-5dd1b923b928_alta-libre-aspect-ratio_default_0.jpg"
                                       Width="50">
                                </Image>
                                <TextBlock Text="{Binding Nombre}"
                                           HorizontalAlignment="Center"></TextBlock>
                                <TextBlock Text="{Binding Color}"
                                           HorizontalAlignment="Center"></TextBlock>
                            </StackPanel>
                        </Border>
                    </DataTemplate>
                </ItemsControl.ItemTemplate>
                
            </ListBox>
        </StackPanel>
      </DockPanel>
    </UserControl>



</Window>
